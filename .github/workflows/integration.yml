name: GitHub Action CI2

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
    check-bats-version:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v3

        - name: Setup PHP
          uses: franzliedke/gh-action-php@0.2.0

        - name: Install composer dependencies
          uses: ramsey/composer-install@v2
          with:
            dependency-versions: ${{ matrix.dependency-versions }}

        - name: Run PHPUnit
          run: vendor/bin/phpunit tests